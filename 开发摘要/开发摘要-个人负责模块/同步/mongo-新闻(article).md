<!-- 日期：2019-12-17 -->

# 第一次讨论（模型）

article：新闻

model层：

article：

- 总阅读量：readingCount
- 阅读时间: 总时间
- 被人收藏的总次数，
- 通过新闻页面，跳转到报告的总次数
- 每天的浏览总量
- 
- 

- id

- 上下架的状态

- createdAt

- updatedAt

- duration

- readingCount

- 访问量

- 

- （gsk）下架，统计上一次上架的时长； 访问量/时间=平均访问量；例每天有50个人看；上架时间不同，访问量大小不一样，不好比较。比如，一个已经上架一年了，

  - 横向比较
  - 更简单，只统计一段时间的访问量 ===>归纳到数据统计那






# 第一次讨论结余

访问量：{总访问量；最近访问量}：突然暴增，新闻


数据怎么来，怎么存，


新数据产生的，用户产生的存mongo

 

当数据导入，从无到有的过程，从有到有

第一次导入，

第二次导入



# 第二次讨论（模型+导入变化）

```
  // 阅读量：点击/跳转到新闻详情页阅读量加一
  readingCount: Number,
  // 阅读时间（分钟）：
  ？有问题
  打开页面开始计时，如果时间小于30分钟，且大于5秒，将数据放入localstorage中，以一个随机时间，发送请求，将时间存入mongo 
  readingTime: Number,
  // 被人收藏过的次数：点击收藏，发送请求，把数据存入mongo
  favCount: Number,
  // 通过新闻页面，跳转到报告的总次数：点击报告，发送请求，将数据存入mongo
  jumpReportCount: Number,
  // 最近访问量，这次的访问量减上次的的访问量（时间/分）
  recentReadingCount: Number
  
  
  //被分享次数
  shareTimes:
  type:Number,
  default:0
```



第一次导入，把id，给mongo，

第二次导入，

- 新数据，把id给mongo，
- 修改的数据，阅读量等，需不需要清空？暂时不需要



# 第二次讨论结余（具体见2019-12-17）

1 redis清空，用的

缓存：单一，站内信，首页，二级页面，映射缓存

创建，用户；删除，

缓存分不分，全删，还是其他

2 版本变化？版本追溯

需求，之前版本的数据，追溯版本问题，改了数据，怎么找之前的数据

3 模型，统一

4 厂牌问题，以及引发的其他的需要改变的东西

5 同步数据的顺序问题

6 redis 缓存的而问题，要不要全部干掉

---要做的事

7 界面的设计，按钮

8 接口：编辑，后台，以及同步后后台相对应的改变





# 第三次讨论

1 redis：

新闻：首页，新闻详情页，新闻搜索页

- 单一

