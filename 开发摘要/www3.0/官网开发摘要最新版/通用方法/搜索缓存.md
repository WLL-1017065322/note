<!-- 作者：张雨生
日期：2019.12.08 -->

# 搜索缓存

- 前端
  - 用户访问搜索页

- 后端

  - Router层
    - 获取请求的URL地址, 将地址传入到BLL层

  - BLL层
    - 方法参数: URL
    - 过程:
      1. 解析URL后面的参数, 将URL参数序列化、小写、base64 enCode生成
      2. 把生成好的数据作为key, 读取缓存, 查看缓存中是否有该key对应的value值
        1.1 如果有, 则读取缓存中的数据直接返回
        1.2 如果缓存中没有该数据
          1.2.1 解析URL里的参数, 生成查询条件, 通过ES搜索数据(复用首页搜索规则)
                PS: 如果参数合法则处理, 如果参数不合法则不将不合法的参数生成查询条件
          1.2.2 获取到搜索结果后, 将参数序列化、小写、base64 enCode后存入缓存
          1.2.3 将获取到的数据返回

  - 返回结果: 成功: 标准分页返回对象
             失败: 错误结果
